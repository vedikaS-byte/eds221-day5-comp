---
title: "unit-test-practice"
format: html
---

## Unit testing with the 'testthat' package
First, install and call the necessary packages. 
```{r}
# install.packages("testthat")
# install.packages("devtools")
# install.packages("remotes")
rm(list = ls())
library(testthat)
library(devtools) 
library(remotes)

```

Write a function to practice unit test. This function will find the mean value of each column and return the lowest and highest mean value populated (in that order).

We would expect: 

- the output to be numeric
- output should be a vector of length 2 
- the first value should be smaller than the second value

```{r}
mean_range <- function(df) {
  col_means <- apply(X = df, MARGIN = 2, FUN = mean, na.rm = T)
  #return the means of each column
  
  # find min and max vals of the col_means
  col_mean_max <- max(col_means)
  col_mean_min <- min(col_means)
  
  # return min and max values in that order
  return (c(col_mean_min, col_mean_max))
  # ?colMeans
}

mean_range(mtcars)

```


Now write some unit tests. 
```{r}
#| include: FALSE
# write some unit tests
expect_length(mean_range(df = mtcars), 2)

# test that first val < second val
expect_true(mean_range(df = mtcars)[1] < mean_range(mtcars)[2])

```

# Sourcing functions
```{r}
source(here::here("src", "srcing.R"))

# test it
name_cart(food = "banana", animal = "marmot")

source(here::here("src", "cork_oak_growth.R"))

```





